(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{391:function(t,e,s){"use strict";s.d(e,"a",(function(){return l}));var a=s(8),o=s(78),i=s(1),r=(s(0),s(21)),n=s(23),c=function(t){return{isAuth:t.auth.isAuth}};function l(t){return Object(n.b)(c)((function(e){var s=e.isAuth,n=Object(o.a)(e,["isAuth"]);return s?Object(i.jsx)(t,Object(a.a)({},n)):Object(i.jsx)(r.a,{to:"/login"})}))}},395:function(t,e,s){t.exports={avatar:"Post_avatar__3qkL-"}},396:function(t,e,s){t.exports={postsHeader:"Posts_postsHeader__2Rl39",postsContainer:"Posts_postsContainer__3fBmN"}},397:function(t,e,s){t.exports={profilePicture:"Profile_profilePicture__2kcbj",listContainer:"Profile_listContainer__160IQ",contactsContainer:"Profile_contactsContainer__195_F",uploadFile:"Profile_uploadFile__Jzl5m"}},399:function(t,e,s){"use strict";s.r(e);var a=s(8),o=s(62),i=s(63),r=s(65),n=s(64),c=s(1),l=s(0),u=s.n(l),d=s(23),j=s(395),p=s.n(j),b=s(343),h=s(133),f=function(t){return Object(c.jsxs)(b.a,{style:{marginTop:"20px",padding:"15px",backgroundColor:"#ccc9ff"},children:[Object(c.jsx)("img",{className:p.a.avatar,alt:"avatar",src:h.a}),Object(c.jsx)("p",{children:t.message}),Object(c.jsx)("span",{children:"\u2764\ufe0f ".concat(t.likesCount)})]})},O=s(396),x=s.n(O),m=s(125),v=s(168),g=s(96),P=s(55),y=s(383),k=s(342),C=Object(g.a)(1e3),S=Object(v.a)({form:"ProfileAddNewPostForm"})((function(t){return Object(c.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(c.jsx)("div",{children:Object(c.jsx)(m.a,{name:"postText",component:P.b,validate:[g.b,C],placeholder:"Type your thoughts here...",style:{minWidth:"400px",minHeight:"100px",marginBottom:"5px",padding:"10px"}})}),Object(c.jsx)(y.a,{type:"submit",variant:"outlined",color:"primary",style:{margin:"10px 0"},children:"Add your post"})]})})),A=function(t){var e=t.posts.map((function(t){return Object(c.jsx)(f,{id:t.id,message:t.message,likesCount:t.likesCount},t.id)}));return Object(c.jsxs)(b.a,{style:{marginTop:"30px",padding:"15px",backgroundColor:"#ccc9ff"},children:[Object(c.jsx)(k.a,{variant:"h3",className:x.a.postsHeader,children:"My Posts"}),Object(c.jsx)(S,{onSubmit:function(e){t.addPost(e.postText)}}),Object(c.jsx)("div",{className:x.a.postsContainer,children:e})]})},_=function(t){var e=t.posts;return Object(c.jsx)(A,{addPost:t.addPost,posts:e})},M=s(169),N=s(397),F=s.n(N),J=s(95),T=s(37),w=s.n(T),D=s(385),E=s(388),I=Object(v.a)({form:"edit-profile"})((function(t){var e=t.handleSubmit,s=t.error,a=Object(d.c)((function(t){return t.profilePage.profile}));return Object(c.jsx)("form",{style:{marginTop:"10px"},onSubmit:e,children:Object(c.jsxs)(D.a,{className:w.a.formContainer,children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"Name:"}),Object(P.c)("Full name","fullName",[],P.a)]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"About me:"})," ",Object(P.c)("About me","aboutMe",[],P.b)]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"Looking for a job:"})," ",Object(c.jsx)(E.a,{name:"lookingForAJob"})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"My professional skills:"}),Object(P.c)("My professional skills","lookingForAJobDescription",[],P.b)]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"Contacts: "})," ",Object.keys(a.contacts).map((function(t){return Object(c.jsx)("div",{children:Object(c.jsxs)("b",{children:[" ",Object(P.c)(t,"contacts."+t,[],P.a)]})},t)}))]}),s&&Object(c.jsx)("div",{className:w.a.formSummaryError,children:s}),Object(c.jsx)("div",{children:Object(c.jsx)(y.a,{type:"submit",variant:"outlined",color:"primary",style:{marginTop:"10px"},children:"Save"})})]})})})),U=s(380),H=s(341),z=s(384),B=function(t){Object(r.a)(s,t);var e=Object(n.a)(s);function s(){var t;Object(o.a)(this,s);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={editMode:!1,status:t.props.status},t.activateEditMode=function(){t.setState({editMode:!0})},t.deactivateEditMode=function(){t.setState({editMode:!1}),t.props.updateStatus(t.state.status)},t.onChangeHandler=function(e){t.setState({status:e.currentTarget.value})},t}return Object(i.a)(s,[{key:"componentDidUpdate",value:function(t,e){t.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return Object(c.jsxs)("div",{style:{textAlign:"right",fontStyle:"italic"},children:[Object(c.jsx)("span",{children:Object(c.jsx)("b",{children:"Status: "})}),this.state.editMode?Object(c.jsx)(z.a,{autoFocus:!0,onChange:this.onChangeHandler,onBlur:this.deactivateEditMode,value:this.state.status}):Object(c.jsx)("span",{onDoubleClick:this.activateEditMode,children:this.props.status||"No status"})]})}}]),s}(u.a.Component),L=function(t){var e=t.profile,s=t.isOwner,a=t.goToEditMode;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(k.a,{variant:"h4",children:e.fullName}),Object(c.jsxs)(H.a,{className:F.a.listContainer,children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"About me:"})," ",e.aboutMe]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"Looking for a job:"})," ",e.lookingForAJob?"Yes":"No"]}),e.lookingForAJob&&Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"My professional skills:"})," ",e.lookingForAJobDescription]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"Contacts: "}),Object(c.jsx)("div",{className:F.a.contactsContainer,children:Object.keys(e.contacts).map((function(t){return Object(c.jsx)(V,{contactType:t,contactValue:e.contacts[t]},t)}))})]})]}),s&&Object(c.jsx)("div",{children:Object(c.jsx)(y.a,{variant:"outlined",color:"primary",onClick:a,children:"Edit"})})]})},V=function(t){var e=t.contactType,s=t.contactValue;return Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{children:Object(c.jsxs)("b",{children:[e,": "]})}),Object(c.jsx)("span",{children:s})]})},R=function(t){var e=t.profile,s=t.isOwner,a=t.savePhoto,o=t.saveProfile,i=t.status,r=t.updateStatus,n=Object(l.useState)(!1),u=Object(M.a)(n,2),d=u[0],j=u[1];if(!e)return Object(c.jsx)(J.a,{});var p=e.photos.large?e.photos.large:h.a;return Object(c.jsxs)(U.a,{container:!0,children:[Object(c.jsxs)(U.a,{item:!0,xs:4,style:{marginRight:"70px"},children:[Object(c.jsx)("img",{className:F.a.profilePicture,src:p,alt:"avatar"}),Object(c.jsx)("div",{children:s&&Object(c.jsxs)("label",{className:F.a.uploadFile,children:[Object(c.jsx)("input",{type:"file",onChange:function(t){t.target.files&&t.target.files.length&&a(t.target.files[0])},className:F.a.uploadFile}),"Change Photo"]})})]}),Object(c.jsx)(U.a,{item:!0,xs:7,children:Object(c.jsxs)(b.a,{style:{padding:"20px",backgroundColor:"#ccc9ff"},children:[Object(c.jsx)(B,{status:i,updateStatus:r}),d?Object(c.jsx)(I,{initialValues:{fullName:e.fullName,aboutMe:e.aboutMe,lookingForAJob:e.lookingForAJob,lookingForAJobDescription:e.lookingForAJobDescription},onSubmit:function(t){o(t).then((function(){j(!1)}))}}):Object(c.jsx)(L,{profile:e,isOwner:s,goToEditMode:function(){return j(!0)}})]})})]})},q=function(t){var e=t.profile,s=t.status,a=t.updateStatus,o=t.posts,i=t.addPost,r=t.isOwner,n=t.savePhoto,l=t.saveProfile;return Object(c.jsxs)(b.a,{style:{width:"100%",padding:"15px",backgroundColor:"#ccc9ff"},children:[Object(c.jsx)(R,{profile:e,isOwner:r,savePhoto:n,saveProfile:l,status:s,updateStatus:a}),Object(c.jsx)(_,{posts:o,addPost:i})]})},Q=s(166),W=s(21),Y=s(19),G=s(391),K=function(t){Object(r.a)(s,t);var e=Object(n.a)(s);function s(){return Object(o.a)(this,s),e.apply(this,arguments)}return Object(i.a)(s,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(this.props.authorizedUserId&&(t=this.props.authorizedUserId+""),t||this.props.history.push("/login")),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,s){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(c.jsx)(q,Object(a.a)(Object(a.a)({},this.props),{},{profile:this.props.profile,posts:this.props.posts,addPost:this.props.addPost,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),s}(u.a.Component);e.default=Object(Y.d)(Object(d.b)((function(t){return{profile:t.profilePage.profile,posts:t.profilePage.posts,status:t.profilePage.status,authorizedUserId:t.auth.id,isAuth:t.auth.isAuth}}),{addPost:Q.a,getUserProfile:Q.d,getStatus:Q.c,updateStatus:Q.g,savePhoto:Q.e,saveProfile:Q.f}),W.g,G.a)(K)}}]);
//# sourceMappingURL=4.3d87c72d.chunk.js.map