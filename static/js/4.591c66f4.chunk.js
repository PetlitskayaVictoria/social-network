(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{394:function(t,e,s){"use strict";s.d(e,"a",(function(){return l}));var a=s(8),o=s(79),r=s(1),i=(s(0),s(20)),n=s(23),c=function(t){return{isAuth:t.auth.isAuth}};function l(t){return Object(n.b)(c)((function(e){var s=e.isAuth,n=Object(o.a)(e,["isAuth"]);return s?Object(r.jsx)(t,Object(a.a)({},n)):Object(r.jsx)(i.a,{to:"/login"})}))}},398:function(t,e,s){t.exports={avatar:"Post_avatar__3qkL-"}},399:function(t,e,s){t.exports={postsHeader:"Posts_postsHeader__2Rl39",postsContainer:"Posts_postsContainer__3fBmN"}},400:function(t,e,s){t.exports={profilePicture:"Profile_profilePicture__2kcbj",listContainer:"Profile_listContainer__160IQ",contactsContainer:"Profile_contactsContainer__195_F",uploadFile:"Profile_uploadFile__Jzl5m"}},402:function(t,e,s){"use strict";s.r(e);var a=s(8),o=s(61),r=s(62),i=s(64),n=s(63),c=s(1),l=s(0),u=s.n(l),d=s(23),j=s(398),p=s.n(j),b=s(343),h=s(134),f=function(t){return Object(c.jsxs)(b.a,{style:{marginTop:"20px",padding:"15px",backgroundColor:"#ccc9ff"},children:[Object(c.jsx)("img",{className:p.a.avatar,alt:"avatar",src:h.a}),Object(c.jsx)("p",{children:t.message}),Object(c.jsx)("span",{children:"\u2764\ufe0f ".concat(t.likesCount)})]})},O=s(399),x=s.n(O),m=s(125),v=s(169),g=s(97),y=s(54),P=s(383),k=s(342),S=Object(g.a)(1e3),C=Object(v.a)({form:"ProfileAddNewPostForm"})((function(t){return Object(c.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(c.jsx)("div",{children:Object(c.jsx)(m.a,{name:"postText",component:y.b,validate:[g.b,S],placeholder:"Type your thoughts here...",style:{minWidth:"400px",minHeight:"100px",marginBottom:"5px",padding:"10px"}})}),Object(c.jsx)(P.a,{type:"submit",variant:"outlined",color:"primary",style:{margin:"10px 0"},children:"Add your post"})]})})),A=function(t){var e=t.posts.map((function(t){return Object(c.jsx)(f,{id:t.id,message:t.message,likesCount:t.likesCount},t.id)}));return Object(c.jsxs)(b.a,{style:{marginTop:"30px",padding:"15px",backgroundColor:"#ccc9ff"},children:[Object(c.jsx)(k.a,{variant:"h3",className:x.a.postsHeader,children:"My Posts"}),Object(c.jsx)(C,{onSubmit:function(e){t.addPost(e.postText)}}),Object(c.jsx)("div",{className:x.a.postsContainer,children:e})]})},_=function(t){var e=t.posts;return Object(c.jsx)(A,{addPost:t.addPost,posts:e})};var M=s(138);function N(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var s=[],a=!0,o=!1,r=void 0;try{for(var i,n=t[Symbol.iterator]();!(a=(i=n.next()).done)&&(s.push(i.value),!e||s.length!==e);a=!0);}catch(c){o=!0,r=c}finally{try{a||null==n.return||n.return()}finally{if(o)throw r}}return s}}(t,e)||Object(M.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var F=s(400),w=s.n(F),T=s(38),J=s.n(T),I=s(387),E=s(391),D=Object(v.a)({form:"edit-profile"})((function(t){var e=t.handleSubmit,s=t.error,a=Object(d.c)((function(t){return t.profilePage.profile}));return Object(c.jsx)("form",{style:{marginTop:"10px"},onSubmit:e,children:Object(c.jsxs)(I.a,{className:J.a.formContainer,children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"Name:"}),Object(y.c)("Full name","fullName",[],y.a)]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"About me:"})," ",Object(y.c)("About me","aboutMe",[],y.b)]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"Looking for a job:"})," ",Object(c.jsx)(E.a,{name:"lookingForAJob"})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"My professional skills:"}),Object(y.c)("My professional skills","lookingForAJobDescription",[],y.b)]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"Contacts: "})," ",Object.keys(a.contacts).map((function(t){return Object(c.jsx)("div",{children:Object(c.jsxs)("b",{children:[" ",Object(y.c)(t,"contacts."+t,[],y.a)]})},t)}))]}),s&&Object(c.jsx)("div",{className:J.a.formSummaryError,children:s}),Object(c.jsx)("div",{children:Object(c.jsx)(P.a,{type:"submit",variant:"outlined",color:"primary",style:{marginTop:"10px"},children:"Save"})})]})})})),U=s(382),H=s(341),z=s(386),B=function(t){Object(i.a)(s,t);var e=Object(n.a)(s);function s(){var t;Object(o.a)(this,s);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).state={editMode:!1,status:t.props.status},t.activateEditMode=function(){t.setState({editMode:!0})},t.deactivateEditMode=function(){t.setState({editMode:!1}),t.props.updateStatus(t.state.status)},t.onChangeHandler=function(e){t.setState({status:e.currentTarget.value})},t}return Object(r.a)(s,[{key:"componentDidUpdate",value:function(t,e){t.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return Object(c.jsxs)("div",{style:{textAlign:"right",fontStyle:"italic"},children:[Object(c.jsx)("span",{children:Object(c.jsx)("b",{children:"Status: "})}),this.state.editMode?Object(c.jsx)(z.a,{autoFocus:!0,onChange:this.onChangeHandler,onBlur:this.deactivateEditMode,value:this.state.status}):Object(c.jsx)("span",{onDoubleClick:this.activateEditMode,children:this.props.status||"No status"})]})}}]),s}(u.a.Component),L=function(t){var e=t.profile,s=t.isOwner,a=t.goToEditMode;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(k.a,{variant:"h4",children:e.fullName}),Object(c.jsxs)(H.a,{className:w.a.listContainer,children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"About me:"})," ",e.aboutMe]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"Looking for a job:"})," ",e.lookingForAJob?"Yes":"No"]}),e.lookingForAJob&&Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"My professional skills:"})," ",e.lookingForAJobDescription]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"Contacts: "}),Object(c.jsx)("div",{className:w.a.contactsContainer,children:Object.keys(e.contacts).map((function(t){return Object(c.jsx)(V,{contactType:t,contactValue:e.contacts[t]},t)}))})]})]}),s&&Object(c.jsx)("div",{children:Object(c.jsx)(P.a,{variant:"outlined",color:"primary",onClick:a,children:"Edit"})})]})},V=function(t){var e=t.contactType,s=t.contactValue;return Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{children:Object(c.jsxs)("b",{children:[e,": "]})}),Object(c.jsx)("span",{children:s})]})},R=function(t){var e=t.profile,s=t.isOwner,a=t.savePhoto,o=t.saveProfile,r=t.status,i=t.updateStatus,n=N(Object(l.useState)(!1),2),u=n[0],d=n[1],j=e.photos.large?e.photos.large:h.a;return Object(c.jsxs)(U.a,{container:!0,children:[Object(c.jsxs)(U.a,{item:!0,xs:4,style:{marginRight:"70px"},children:[Object(c.jsx)("img",{className:w.a.profilePicture,src:j,alt:"avatar"}),Object(c.jsx)("div",{children:s&&Object(c.jsxs)("label",{className:w.a.uploadFile,children:[Object(c.jsx)("input",{type:"file",onChange:function(t){t.target.files&&t.target.files.length&&a(t.target.files[0])},className:w.a.uploadFile}),"Change Photo"]})})]}),Object(c.jsx)(U.a,{item:!0,xs:7,children:Object(c.jsxs)(b.a,{style:{padding:"20px",backgroundColor:"#ccc9ff"},children:[Object(c.jsx)(B,{status:r,updateStatus:i}),u?Object(c.jsx)(D,{initialValues:{fullName:e.fullName,aboutMe:e.aboutMe,lookingForAJob:e.lookingForAJob,lookingForAJobDescription:e.lookingForAJobDescription},onSubmit:function(t){o(t).then((function(){d(!1)}))}}):Object(c.jsx)(L,{profile:e,isOwner:s,goToEditMode:function(){return d(!0)}})]})})]})},q=s(96),Q=function(t){var e=t.profile,s=t.status,a=t.updateStatus,o=t.posts,r=t.addPost,i=t.isOwner,n=t.savePhoto,l=t.saveProfile;return e?Object(c.jsxs)(b.a,{style:{width:"100%",padding:"15px",backgroundColor:"#ccc9ff"},children:[Object(c.jsx)(R,{profile:e,isOwner:i,savePhoto:n,saveProfile:l,status:s,updateStatus:a}),Object(c.jsx)(_,{posts:o,addPost:r})]}):Object(c.jsx)(q.a,{})},W=s(167),Y=s(20),G=s(19),K=s(394),X=function(t){Object(i.a)(s,t);var e=Object(n.a)(s);function s(){return Object(o.a)(this,s),e.apply(this,arguments)}return Object(r.a)(s,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(this.props.authorizedUserId&&(t=this.props.authorizedUserId+""),t||this.props.history.push("/login")),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,s){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(c.jsx)(Q,Object(a.a)(Object(a.a)({},this.props),{},{profile:this.props.profile,posts:this.props.posts,addPost:this.props.addPost,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),s}(u.a.Component);e.default=Object(G.d)(Object(d.b)((function(t){return{profile:t.profilePage.profile,posts:t.profilePage.posts,status:t.profilePage.status,authorizedUserId:t.auth.id,isAuth:t.auth.isAuth}}),{addPost:W.a,getUserProfile:W.d,getStatus:W.c,updateStatus:W.g,savePhoto:W.e,saveProfile:W.f}),Y.g,K.a)(X)}}]);
//# sourceMappingURL=4.591c66f4.chunk.js.map